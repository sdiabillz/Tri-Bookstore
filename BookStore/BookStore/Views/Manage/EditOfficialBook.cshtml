@model BookStore.Models.ViewModels.PostingsViewModel


@{
    ViewBag.Title = "Edit Official Book";
}

@if (!User.Identity.IsAuthenticated)
{

    <div class="jumbotron">
        <h1> Post</h1>
        <p class="lead"> Post your used books on the Tri-Bookstore.</p>
        <p class="btn btn-default"> @Html.ActionLink("Login", "Login", "Account")</p>
    </div>

}
else
{
    if (User.IsInRole("admin"))
    {
        <div class="jumbotron">
            <div class="container">
                <h2 class="text-center">Edit Official book</h2>

                @using (Html.BeginForm(new { id = Model.postings.PostingID }))
                {
                    @Html.AntiForgeryToken()
                    @Html.ValidationSummary(true)

                    <div class=" row">
                        <div class="col-xs-6 col-md-4">
                            <div class="form-group">
                                @Html.DisplayNameFor(m => m.postings.PostTitle)
                            </div>
                            <div class="form-group">
                                @Html.DisplayFor(m => m.postings.PostTitle)
                            </div>
                        </div>
                        <div class="col-xs-6 col-md-4">
                            <div class="form-group">
                                @Html.DisplayNameFor(m => m.postings.BookTitle)
                            </div>
                            <div class="form-group">
                                @Html.DisplayFor(m => m.postings.BookTitle)
                            </div>
                        </div>
                        <div class="col-xs-6 col-md-4">
                            <div class="form-group">
                                @Html.DisplayNameFor(m => m.postings.price)
                            </div>
                            <div class="form-group">
                                @Html.DisplayFor(m => m.postings.price)
                            </div>
                        </div>
                    </div>

                    <div class=" row">
                        <div class="col-xs-6 col-md-4">
                            <div class="form-group">
                                @Html.DisplayNameFor(m => m.postings.PostDescription)
                            </div>
                            <div class="form-group">
                                @Html.DisplayFor(m => m.postings.PostDescription)
                            </div>
                        </div>
                        <div class="col-xs-6 col-md-4">
                            <div class="form-group">
                                @Html.DisplayNameFor(m => m.postings.author)
                            </div>
                            <div class="form-group">
                                @Html.DisplayFor(m => m.postings.author)
                            </div>
                        </div>
                        <div class="col-xs-6 col-md-4">
                            <div class="form-group">
                                <div class="form-group">
                                    @*//  @Html.DisplayFor(m =>m. )*@
                                    @*<img src="@Model.img" alt="your image" id="blah" width="100" height="100" />
                                        <img src="@ViewBag.Logo" alt="Logo" />*@
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class=" row">
                        <div class="col-xs-6 col-md-4">
                            <div class="form-group">
                                @Html.LabelFor(m => m.Opostings.CourseID)
                            </div>
                            <div class="form-group">
                                @Html.EditorFor(m => m.Opostings.CourseID)
                                @Html.ValidationMessageFor(m => m.Opostings.CourseID)
                            </div>
                        </div>

                        <div class="col-xs-6 col-md-4">
                            <div class="form-group">
                                @Html.LabelFor(m => m.Opostings.CourseInfo)
                            </div>
                            <div class="form-group">
                                @Html.EditorFor(m => m.Opostings.CourseInfo)
                                @Html.ValidationMessageFor(m => m.Opostings.CourseInfo)
                            </div>
                        </div>

                        @*<div class="col-xs-6 col-md-4">
                            <div class="form-group">
                                Is Book Official?
                            </div>
                            <div class="form-group">
                                @Html.CheckBoxFor(m => m.isOfficial, new { @checked = "checked" })
                            </div>
                        </div>*@

                    </div>
                    <div class=" row">
                        <div class="col-xs-6 col-md-4">
                            <div class="form-group">
                                @*// <input type='file' id="imgInp" name="filePlace" />
                                    <img id="blah" src=@Model.URL alt="your image" width="100" height="100" />*@
                                @*<img id="blah" src=@Model. alt="your image" width="100" height="100" />*@
                            </div>
                        </div>
                    </div>


                    <div class="center-block">
                        <button type="submit" class="btn btn-default" value="EditOfficialBook">Submit</button>
                    </div>

                }
            </div>
        </div>
    }

}


@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")
    <script type="text/javascript">
    function readURL(input) {
        if (input.files && input.files[0]) {
            var reader = new FileReader();

            reader.onload = function (e) {
                $('#blah').attr('src', e.target.result);
            }

            reader.readAsDataURL(input.files[0]);

        }
    }

    $("#imgInp").change(function(){
        readURL(this);
    });
    </script>
}